<html>
<head>
<title>SCR Votes</title>

<style type="text/css">
input {width: 150px;}
</style>

<script type="text/ecmascript">

  // set global variables
  var svgns = "http://www.w3.org/2000/svg";
  var htmlObj, SVGDoc, SVGRoot, viewBox, goLeft, goRight, innerSVG;
  var currentSize, currentPosition, currentId, currentLabel;
  var imageWidth; // same for all images
  var currentImage;
  var imageBorderDefault, imageBorderHighlight;

  function Initialize(mission) {
    htmlObj = document.getElementById("images"); // embedded image
    SVGDoc = htmlObj.getSVGDocument(); // image doc root node (i.e., can apply getelementbyid)
    SVGRoot = SVGDoc.documentElement; // root svg node (i.e., can get node attribute)
    //var title = SVGRoot.getAttribute('title');
    //document.getElementById("title").innerHTML = title;
    imageWidth = parseInt(SVGDoc.getElementById("image1").getAttribute('width'));
    currentImage = parseInt(SVGRoot.getAttribute('imageSelected'));
    positionViewBox(currentImage * imageWidth);
    var currentImageName = SVGDoc.getElementById("image" + currentImage + "Label").getAttribute('name');
    document.getElementById("currentImage").innerHTML = currentImageName;
    imageBorderDefault = SVGRoot.getAttribute('imageBorderDefault');
    imageBorderHighlight = SVGRoot.getAttribute('imageBorderHighlight');
  }

  function positionViewBox(coordinate) {
    viewBox = SVGRoot.getAttribute('viewBox');
    var viewVals = viewBox.split(' ');
    var xmin = parseFloat(viewVals[0]);
    var xmax = parseFloat(viewVals[2]);
    var diff;
    if (coordinate > xmax) {
      diff = coordinate - xmax;
      xmax = coordinate;
      xmin += diff;
    }
    else
      if (coordinate < xmin) {
        diff = xmin - coordinate;
        xmin = coordinate;
        xmax -= diff;
      }

    viewVals[0] = xmin;
    //viewVals[2] = xmax;
    SVGRoot.setAttribute('viewBox', viewVals.join(' '));
  }
 
</script>
</head>

</head>

<body onload="Initialize('unmis')"bgcolor="#FFFFFF">

<h2>UN SCR Votes</h2>

<form name="missionform">
<SELECT NAME="missionname" onChange="Initialize(missionname.value); return false;">
<option value="">Choose a mission...</option>
<option value="unmis" selected="true">UNMIS</option>
</SELECT>
</form>

<table>
<tr><td><img src="images/person.png"/></td><td>Yes</td><td/><td/><td/><td></td>
<td><img src="images/redperson.png"/></td><td>No</td><td/><td/><td/><td></td>
<td><img src="images/greyperson.png"/></td><td>Abstain</td></tr>
</table>

<table>
<tr>
<td><b>1590</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1590.svg">
</td>
</tr>
<tr>
<td><b>1627</b></td>
<td/><td/>
<td><embed id="images" 
type="image/svg+xml" 
src="images_1627.svg">
</td></tr>
<tr>
<td><b>1663</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1663.svg">
</td>
</tr><tr>
<td><b>1706</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1706.svg">
</td>
</tr><tr>
<td><b>1755</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1755.svg">
</td>
</tr><tr>
<td><b>1784</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1784.svg">
</td>
</tr><tr>
<td><b>1812</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1812.svg">
</td>
</tr><tr>
<td><b>1919</b></td>
<td/><td/>
<td>
<embed id="images" 
type="image/svg+xml" 
src="images_1919.svg">
</td>
</tr>
</table>
<br><br><hr>
<a href="./images.xml" target="_blank"><font color="grey">Link to input file sample</font></a>
</body>
</html>
